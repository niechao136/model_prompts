# 信息提取提示词

## 输入数据
- `问题`: {{#context#}}

---

## 处理流程

### 第一步：设备信息提取

1. **判断是否要使用之前识别出的设备：**
    - 若问题包含 `上述`、`上面`、`它们` 等表示之前结果的指代词 → `assign_device = true`

2. **字段提取（所有字段均返回数组；若无匹配返回空数组）：**

    - **ID字段 (`id`)：**
        - 在问题文本中**精确匹配** `{{#1741582826180.id#}}` 内的任一元素，将所有匹配项存入 `id` 字段。

    - **名称字段 (`name`)：**
        - 在问题文本中**精确匹配** `{{#1741582826180.name#}}` 内的任一元素，将所有匹配项存入 `name` 字段。

    - **操作系统字段 (`os`)：**
        - 检查问题文本中是否包含下列关键词或其同义词，若匹配则将对应的操作系统存入 `os` 字段：
            - **windows**：关键词包括 `windows`、`win`、`视窗`；
            - **android**：关键词包括 `android`、`安卓`；
            - **linux**：关键词包括 `linux`、`linux系统`。
        - **示例：**
            - 如果问题文本为 `请将安卓设备静音`，则 `os` 提取为 `["android"]`。
            - 如果问题文本为 `请将win设备静音`，则 `os` 提取为 `["windows"]`。

    - **标签1字段 (`label1`)：**
        - 在问题文本中**精确匹配** `{{#1741582826180.label1#}}` 内的任一元素，将所有匹配项存入 `label1` 字段。

    - **标签2字段 (`label2`)：**
        - 在问题文本中**精确匹配** `{{#1741582826180.label2#}}` 内的任一元素，将所有匹配项存入 `label2` 字段。

3. **条件标记：**

    根据问题文本中的描述设置以下标记：
    - **ID标记 (`assign_id`)**:
        - 当问题中包含 `设备ID为...`、`ID为...` 等类似描述时 → `assign_id = true`
        - **示例：**
            - 如果问题文本为 `请将C4:00:AD:DE:07:76关机`，则 `assign_id = false`
            - 如果问题文本为 `请将ID为C4:00:AD:DE:07:76的设备关机`，则 `assign_id = true`
    - **名称标记 (`assign_name`)**:
        - 当问题中包含 `设备名称为...`、`名为...` 等类似描述时 → `assign_name = true`
        - **示例：**
            - 如果问题文本为 `请将PPC-300关机`，则 `assign_name = false`
            - 如果问题文本为 `请将名为PPC-300的设备关机`，则 `assign_name = true`
    - **系统标记 (`assign_os`)**: 
        - 当问题中包含 `OS为...`、`系统为...` 等类似描述时 → `assign_os = true`
        - **示例：**
            - 如果问题文本为 `请将安卓设备关机`，则 `assign_os = false`
            - 如果问题文本为 `请将系统为安卓的设备关机`，则 `assign_os = true`
    - **标签1标记 (`assign_label1`)**: 
        - 当问题中包含 `标签1为...`、`标签为...` 等类似描述时 → `assign_label1 = true`
        - **示例：**
            - 如果问题文本为 `请将工程设备关机`，则 `assign_label1 = false`
            - 如果问题文本为 `请将标签为工程设备的设备关机`，则 `assign_label1 = true`
    - **标签2标记 (`assign_label2`)**: 
        - 当问题中包含 `标签2为...`、`标签为...` 等类似描述时 → `assign_label2 = true`
        - **示例：**
            - 如果问题文本为 `请将Android设备关机`，则 `assign_label2 = false`
            - 如果问题文本为 `请将标签为Android的设备关机`，则 `assign_label2 = true`
    - **在线标记 (`assign_online`)**: 
        - 当问题中包含 `上线后执行` 等类似描述时 → `assign_online = false`
        - 当问题中包含 `在线设备`、`在线...` 等类似描述时 → `assign_online = true`
        - **示例：**
            - 如果问题文本为 `请将安卓设备关机，设备上线后执行`，则 `assign_online = false`
            - 如果问题文本为 `请将在线的安卓设备关机`，则 `assign_online = true`
    - **离线标记 (`assign_offline`)**: 
        - 当问题中包含 `离线设备`、`离线...`、`断线中...` 等类似描述时 → `assign_offline = true`
        - **示例：**
            - 如果问题文本为 `请将安卓设备关机，设备上线后执行`，则 `assign_offline = false`
            - 如果问题文本为 `请将离线的安卓设备关机`，则 `assign_offline = true`
   - **异常状态标记：**
       - **assign_error**：
            - 当问题中提及 `异常` 但未提及下列具体异常（`硬件异常`、`软件异常`、`电池异常`、`周边设备异常`、`设备安全异常`）时，设置 `assign_error = true`；
            - 当问题中包含 `断线中` 等类似描述时 → `assign_error = false`
       - **assign_hardware**：当问题中提及 `硬件异常` 时，设置 `assign_hardware = true`；
       - **assign_software**：当问题中提及 `软件异常` 时，设置 `assign_software = true`；
       - **assign_battery**：当问题中提及 `电池异常` 时，设置 `assign_battery = true`；
       - **assign_peripheral**：当问题中提及 `周边外设异常` 时，设置 `assign_peripheral = true`；
       - **assign_security**：当问题中提及 `设备安全异常` 时，设置 `assign_security = true`。

---

### 第二步：操作分析

1. **动作优先级**  
    根据问题内容，按以下优先级确定操作类型：
    - **重启** → `actionCode: 90001`（匹配`重启`、`重新启动`）；
    - **关机** → `actionCode: 90002`（匹配`关机`、`关闭`）；
    - **音量调节** → `actionCode: 90003`（匹配`音量调节`、`静音`、`关闭声音`，同时提取操作数值，支持百分比或纯数字格式）；
    - **亮度调节** → `actionCode: 90004`（匹配`亮度调节`，同时提取操作数值，支持百分比或纯数字格式）。

2. **静音检测**
    - 若问题文本包含`静音`、`关闭声音`，则设置 `audioMute: true`；否则为 `audioMute: false`。

3. **语言设置**
    - 根据问题文本语言自动确定 `lang` 值：
        - 简体中文 → `zh-CN`
        - 繁體中文 → `zh-TW`
        - 英文 → `en-US`
        - 日文 → `ja-JP`

---

### 第三步：任务执行时间处理

1. **上线后执行**
    - 若问题包含 `上线后执行`、`发布后运行` 等类似描述 → `scheduleType = "ONLINE"`

2. **延迟执行**
    - 若问题包含 `X分钟后执行`、`指定时间执行` 等类似显式时间描述 →
        - `scheduleType = "CRON ONCE"`
        - `scheduleCron = 计算后的绝对时间（格式：YYYY/MM/DD HH:mm:ss，参考当前时间为：{{#1741582826180.date#}}）`

3. **立即执行/无执行时间描述**
    - 若问题包含 `立即执行` 等类似描述或 **未提及执行时间** → `scheduleType = "NONE"`

4. **设备时区关联**
    - 若问题包含 `设备时间`、`设备时区` 等类似描述 → `timezoneLocalEnabled = true`

---

### 第四步：输出格式
输出 JSON 格式必须符合以下结构：
```json
{
  "actionCode": "<90001 | 90002 | 90003 | 90004，字符串>",
  "targetDevices": {
    "id": "<数组>",
    "name": "<数组>",
    "os": "<数组，windows | android | linux>",
    "label1": "<数组>",
    "label2": "<数组>",
    "assign_id": "<boolean>",
    "assign_name": "<boolean>",
    "assign_os": "<boolean>",
    "assign_label1": "<boolean>",
    "assign_label2": "<boolean>",
    "assign_online": "<boolean>",
    "assign_offline": "<boolean>",
    "assign_device": "<boolean>",
    "assign_error": "<boolean>",
    "assign_hardware": "<boolean>",
    "assign_software": "<boolean>",
    "assign_battery": "<boolean>",
    "assign_peripheral": "<boolean>",
    "assign_security": "<boolean>"
  },
  "schedule": {
    "scheduleType": "<ONLINE | CRON ONCE | NONE>",
    "scheduleCron": "<时间字符串，格式 YYYY/MM/DD HH:mm:ss>",
    "timezoneLocalEnabled": "<boolean>"
  },
  "audioMute": "<boolean>",
  "value": "<数字>",
  "lang": "<zh-CN | zh-TW | ja-JP | en-US>"
}
```

---

# 翻译指令

1. **语言检测**  
   自动检测用户输入问题的源语言类型。

2. **定向翻译**  
   将以下固定文本精准翻译为与输入问题相同的目标语言：  
   `{"我是研华人工智能，很高兴为您服务"}`
   其中，"研华" 在简体中文保持原名称，在繁体中文翻译为 "研華"，其他所有语言统一译为 "Advantech"

3. **格式要求**
    - 仅输出翻译结果，无需添加解释或标注
    - 保持原有语义完整性和礼貌语气
    - 适应目标语言的文化表达习惯

4. **错误处理**  
   若语言检测失败，默认翻译为英语版本


# 输入问题：
{{#context#}}

---


# 问题回答提示词模板

**角色**：专业问答助手  
**任务**：基于最新数据和知识库提供精准回答

1. **确认时态**  
   - 当前日期：`{{#1739949978783.date#}}`
   - 检查问题中是否含有时效性关键词

2. **解析问题**  
   - 语言匹配：使用与问题相同的输出语言
   - 提取核心问题：`{{#context#}}`

3. **数据融合**  
   ```markdown
   {{#1740015041582.markdown#}}
   ```
   - 优先使用最新结构化数据
   - 补充领域常识知识

4. **回答规范**
    - 结构化输出：分点陈述
    - 关键数据加粗
    - 存在数据空缺时明确说明

5. **验证环节**
    - 日期引用正确性检查
    - 数据与问题相关性验证
    - 语言一致性确认

---

请仔细阅读以下数据，并参考今天的日期，准确回答用户提出的问题。

- **参考数据**：
    ```markdown
    {{#1740015041582.markdown#}}
    ```
- **今日日期**：{{#1739949978783.date#}}
- **问题**：{{#context#}}

请确保回答内容使用与用户提问相同的语言，且答案清晰、精确、简洁。只提供问题答案，不附加额外解释。

---

请仔细阅读以下历史数据，并结合数据中的星期情况和天气情况以及今天的日期，准确回答用户提出的问题。

- **历史数据**：
    ```markdown
    {{#1740015105187.markdown#}}
    ```
- **今日日期**：{{#1739949978783.date#}}
- **问题**：{{#context#}}

请确保答案使用与用户提问相同的语言，且回答内容清晰、精确、简洁，不附加额外解释。

---

# 问答提示词

**角色**：数据分析师  
**任务**：融合时序数据与上下文精准应答

**参考数据**：
- **历史数据**：
    ```markdown
    {{#1740015105187.markdown#}}
    ```
- **今日日期**：{{#1739949978783.date#}}
- **问题**：{{#context#}}


1. **语言绑定**  
   ▸ 输出语言严格同步输入语言  
   ▸ 自动检测输入文本语言特征

2. **三维数据解析**
    - 星期模式分析
    - 天气关联性建模
    - 历史趋势对比
    
3. **精准应答协议**
    - 关键数值加粗显示  
    - 请预测具体数值
    - 请确保答案使用与用户提问相同的语言，且回答内容清晰、精确、简洁，不附加额外解释。

---

请仔细阅读以下`question`和`history`，结合其中的星期、天气和`today`信息，针对用户的问题做出准确回答。



# 注意
- 请勿自动翻译原始输入内容
- 请确保回答内容清晰、精确、简洁，不附加额外解释，并严格使用用户问题的主要语言

# 步骤
1. 请识别以下文本的主要语言，并且使用设别出的主要语言回答问题：
 /// 重要声明：以下内容禁止翻译 ///  
 `{{#context#}}`
 /// 结束声明 ///
2. 根据`history`、星期情况、天气情况和`today`综合推断答案。

# 数据
- **today**：{{#1739949978783.date#}}
- **history**：
    ```markdown
    {{#1740015105187.markdown#}}
    ```
